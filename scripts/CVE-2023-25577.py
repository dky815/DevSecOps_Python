import requests

base_url = 'http://127.0.0.1:9090'

login_url = f'{base_url}/login'
file_url = f'{base_url}/file'

login_data = {
    "username": "admin1",
    "password": "adminpassword1"
}

login_response = requests.post(login_url, json=login_data)

if login_response.status_code == 200:
    print("Login successful!")
    cookies = login_response.cookies
else:
    print("Login failed!")
    exit()

# 10,000 files with 1 byte of data each
files = [('file'+str(i), ('file'+str(i)+'.txt', 'A')) for i in range(10000)]

response = requests.post(file_url, files=files, cookies=cookies)

print(response.text)
